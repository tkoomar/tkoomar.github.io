<!DOCTYPE html>
<html lang="en-us">

<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="generator" content="Source Themes Academic 4.7.0">

  

  
  
  
  
  
    
    
    
  
  

  <meta name="author" content="Tanner Koomar">

  
  
  
    
  
  <meta name="description" content="Some light web-scraping and natual language processing reveals how different parts of speech may hint at an author&rsquo;s intent (and impact).">

  
  <link rel="alternate" hreflang="en-us" href="../../post/2019-01-05-tt-medium/">

  


  
  
  
  <meta name="theme-color" content="#6F9A85">
  

  
  

  
  
  
  
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/academicons/1.8.6/css/academicons.min.css" integrity="sha256-uFVgMKfistnJAfoCUQigIl+JfUaP47GrRKjf6CTPVmw=" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.0-1/css/all.min.css" integrity="sha256-4w9DunooKSr3MFXHXWyFER38WmPdm361bQS/2KUWZbU=" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.css" integrity="sha256-Vzbj7sDDS/woiFS3uNKo8eIuni59rjyNGtXfstRzStA=" crossorigin="anonymous">

    
    
    
      
    
    
      
      
        
          <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.10/styles/github.min.css" crossorigin="anonymous" title="hl-light">
          <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.10/styles/dracula.min.css" crossorigin="anonymous" title="hl-dark" disabled>
        
      
    

    

    

    
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/lazysizes/5.1.2/lazysizes.min.js" integrity="sha256-Md1qLToewPeKjfAHU1zyPwOutccPAm5tahnaw7Osw0A=" crossorigin="anonymous" async></script>
      
    
      

      
      

      
    
      

      
      

      
    
      

      
      
        
      

      
    
      

      
      

      
    

  

  
  
  
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Hammersmith+One:400,700%7CPoppins:400,400italic,700%7CRoboto+Mono%7C&display=swap">
  

  
  
  
  
  <link rel="stylesheet" href="../../css/academic.css">

  




  


  

  <link rel="manifest" href="../../index.webmanifest">
  <link rel="icon" type="image/png" href="../../images/icon_hu5364287f43a913080533c93be6775690_13359_32x32_fill_lanczos_center_2.png">
  <link rel="apple-touch-icon" type="image/png" href="../../images/icon_hu5364287f43a913080533c93be6775690_13359_192x192_fill_lanczos_center_2.png">

  <link rel="canonical" href="../../post/2019-01-05-tt-medium/">

  
  
  
  
  
    
  
  
  <meta property="twitter:card" content="summary_large_image">
  
  <meta property="twitter:site" content="@tannerkoomar">
  <meta property="twitter:creator" content="@tannerkoomar">
  
  <meta property="og:site_name" content="Tanner Koomar">
  <meta property="og:url" content="/post/2019-01-05-tt-medium/">
  <meta property="og:title" content="Tidy Tuesday: Infinitives in Medium Posts | Tanner Koomar">
  <meta property="og:description" content="Some light web-scraping and natual language processing reveals how different parts of speech may hint at an author&rsquo;s intent (and impact)."><meta property="og:image" content="/post/2019-01-05-tt-medium/featured.png">
  <meta property="twitter:image" content="/post/2019-01-05-tt-medium/featured.png"><meta property="og:locale" content="en-us">
  
    
      <meta property="article:published_time" content="2019-01-05T00:00:00&#43;00:00">
    
    <meta property="article:modified_time" content="2019-01-05T00:00:00&#43;00:00">
  

  


    






  






<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "/post/2019-01-05-tt-medium/"
  },
  "headline": "Tidy Tuesday: Infinitives in Medium Posts",
  
  "image": [
    "/post/2019-01-05-tt-medium/featured.png"
  ],
  
  "datePublished": "2019-01-05T00:00:00Z",
  "dateModified": "2019-01-05T00:00:00Z",
  
  "author": {
    "@type": "Person",
    "name": "Tanner Koomar"
  },
  
  "publisher": {
    "@type": "Organization",
    "name": "Tanner Koomar",
    "logo": {
      "@type": "ImageObject",
      "url": "img//"
    }
  },
  "description": "\u003cp\u003eSome light web-scraping and natual language processing reveals how different parts of speech may hint at an author\u0026rsquo;s intent (and impact).\u003c/p\u003e"
}
</script>

  

  


  


  





  <title>Tidy Tuesday: Infinitives in Medium Posts | Tanner Koomar</title>

</head>

<body id="top" data-spy="scroll" data-offset="70" data-target="#TableOfContents" >

  <aside class="search-results" id="search">
  <div class="container">
    <section class="search-header">

      <div class="row no-gutters justify-content-between mb-3">
        <div class="col-6">
          <h1>Search</h1>
        </div>
        <div class="col-6 col-search-close">
          <a class="js-search" href="#"><i class="fas fa-times-circle text-muted" aria-hidden="true"></i></a>
        </div>
      </div>

      <div id="search-box">
        
        <input name="q" id="search-query" placeholder="Search..." autocapitalize="off"
        autocomplete="off" autocorrect="off" spellcheck="false" type="search">
        
      </div>

    </section>
    <section class="section-search-results">

      <div id="search-hits">
        
      </div>

    </section>
  </div>
</aside>


  







<nav class="navbar navbar-expand-lg navbar-light compensate-for-scrollbar" id="navbar-main">
  <div class="container">

    
    <div class="d-none d-lg-inline-flex">
      <a class="navbar-brand" href="../../">Tanner Koomar</a>
    </div>
    

    
    <button type="button" class="navbar-toggler" data-toggle="collapse"
            data-target="#navbar-content" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
    <span><i class="fas fa-bars"></i></span>
    </button>
    

    
    <div class="navbar-brand-mobile-wrapper d-inline-flex d-lg-none">
      <a class="navbar-brand" href="../../">Tanner Koomar</a>
    </div>
    

    
    
    <div class="navbar-collapse main-menu-item collapse justify-content-start" id="navbar-content">

      
      <ul class="navbar-nav d-md-inline-flex">
        

        

        
        
        
          
        

        
        
        
        
        
        
          
          
          
            
          
          
        

        <li class="nav-item">
          <a class="nav-link " href="../../#projects"><span>Projects</span></a>
        </li>

        
        

        

        
        
        
          
        

        
        
        
        
        
        
          
          
          
            
          
          
        

        <li class="nav-item">
          <a class="nav-link " href="../../#publications"><span>Publications</span></a>
        </li>

        
        

        

        
        
        
          
        

        
        
        
        
        
        
          
          
          
            
          
          
        

        <li class="nav-item">
          <a class="nav-link " href="../../#tidytuesday-gallery"><span>Tidy Tuesday</span></a>
        </li>

        
        

        

        
        
        
          
        

        
        
        
        
        
        

        <li class="nav-item">
          <a class="nav-link " href="../../about"><span>About Me</span></a>
        </li>

        
        

        

        
        
        
          
        

        
        
        
        
        
        

        <li class="nav-item">
          <a class="nav-link " href="../../pdf/tanner-koomar-one-page-cv.pdf"><span>CV</span></a>
        </li>

        
        

      

        
      </ul>
    </div>

    <ul class="nav-icons navbar-nav flex-row ml-auto d-flex pl-md-2">
      
      <li class="nav-item">
        <a class="nav-link js-search" href="#"><i class="fas fa-search" aria-hidden="true"></i></a>
      </li>
      

      
      <li class="nav-item">
        <a class="nav-link js-dark-toggle" href="#"><i class="fas fa-moon" aria-hidden="true"></i></a>
      </li>
      

      

    </ul>

  </div>
</nav>


  <article class="article">

  




















  
  
    
  


<div class="article-container pt-3">
  <h1>Tidy Tuesday: Infinitives in Medium Posts</h1>

  

  


<div class="article-metadata">

  
  

  
  <span class="article-date">
    
    
      
    
    Jan 5, 2019
  </span>
  

  

  
  <span class="middot-divider"></span>
  <span class="article-reading-time">
    9 min read
  </span>
  

  
  
  

  
  
  <span class="middot-divider"></span>
  <span class="article-categories">
    <i class="fas fa-folder mr-1"></i><a href="../../categories/tidytuesday/">tidytuesday</a></span>
  

</div>

  














</div>


<div class="article-header article-container featured-image-wrapper mt-4 mb-4" style="max-width: 720px; max-height: 960px;">
  <div style="position: relative">
    <img src="../../post/2019-01-05-tt-medium/featured_huf483dc1d2d4dfce705f2271611619326_322777_720x0_resize_lanczos_2.png" alt="" class="featured-image">
    
  </div>
</div>



  <div class="article-container">

    <div class="article-style">
      <p>Some light web-scraping and natual language processing reveals how different parts of speech may hint at an author&rsquo;s intent (and impact).</p>
<ul>
<li>
<a href="#tidy-the-text">Tidy the text</a>

<ul>
<li>
<a href="#infinitives">infinitives</a>
</li>
<li>
<a href="#all-verbs">all verbs</a>
</li>
</ul>
</li>
<li>
<a href="#some-plots">some plots</a>

<ul>
<li>
<a href="#scatter-plots">scatter plots</a>
</li>
<li>
<a href="#tables">tables</a>
</li>
</ul>
</li>
<li>
<a href="#break-vs-build">break vs build</a>

<ul>
<li>
<a href="#topics-tags-plot">topics / tags plot</a>
</li>
<li>
<a href="#time-to-harvest-some-posts">time to (ha)rvest some posts!</a>
</li>
<li>
<a href="#sentiment-plot">sentiment plot</a>
</li>
<li>
<a href="#violin-plot">violin plot</a>
</li>
<li>
<a href="#legend">legend</a>
</li>
</ul>
</li>
<li>
<a href="#text-boxes">text boxes</a>

<ul>
<li>
<a href="#header">header</a>
</li>
<li>
<a href="#definition-sidebar">definition sidebar</a>
</li>
<li>
<a href="#top-sidebar">top sidebar</a>
</li>
<li>
<a href="#bottom-sidebar">bottom sidebar</a>
</li>
<li>
<a href="#footer">footer</a>
</li>
</ul>
</li>
<li>
<a href="#stitch-it-together">stitch it together</a>
</li>
<li>
<a href="#the-final-plot">The final Plot</a>
</li>
</ul>
<h2 id="tidy-the-text">Tidy the text</h2>
<p>following along with this: <a href="https://cran.r-project.org/web/packages/tidytext/vignettes/tidytext.html">https://cran.r-project.org/web/packages/tidytext/vignettes/tidytext.html</a></p>
<h4 id="infinitives">infinitives</h4>
<pre><code class="language-r">dat_infin &lt;- dat %&gt;% unnest_tokens(infin, title, token = &quot;ngrams&quot;, n = 2) %&gt;%
  filter(str_detect(pattern = &quot;to &quot;, string = infin)) %&gt;%
  mutate(word = str_remove(infin, &quot;to &quot;)) %&gt;% 
  left_join(parts_of_speech) %&gt;%
  mutate(word_stem = wordStem(word, &quot;english&quot;)) %&gt;%
  filter(str_detect(pos, regex(&quot;Verb&quot;, ignore_case = F)), 
         !duplicated(x1)) %&gt;% 
  group_by(word_stem) %&gt;%
  mutate(n = n()) %&gt;%
  group_by(word_stem, n) %&gt;%
  summarize(mean_claps = mean(claps),
            sum_claps = sum(claps), 
            infin = first(infin)
            )
</code></pre>
<pre><code>## Joining, by = &quot;word&quot;
</code></pre>
<h4 id="all-verbs">all verbs</h4>
<pre><code class="language-r">dat_verb &lt;- dat %&gt;% unnest_tokens(word, title) %&gt;%
  left_join(parts_of_speech) %&gt;%
  filter(str_detect(pos, regex(&quot;Verb&quot;, ignore_case = F)), 
         !duplicated(x1)) %&gt;% 
  mutate(word_stem = wordStem(word, &quot;english&quot;)) %&gt;%
  group_by(word_stem) %&gt;%
  mutate(n = n()) %&gt;%
  group_by(word_stem, n) %&gt;%
  summarize(mean_claps = mean(claps),
            sum_claps = sum(claps),
            word = first(word)
            )
</code></pre>
<pre><code>## Joining, by = &quot;word&quot;
</code></pre>
<h2 id="some-plots">some plots</h2>
<h4 id="scatter-plots">scatter plots</h4>
<pre><code class="language-r">plot_point_infin &lt;- dat_infin %&gt;%
  filter(n &gt; 5) %&gt;%
  ggplot(aes(x = n, y = mean_claps, 
             color = case_when(
               mean_claps &gt; 500 ~ &quot;high impact infinitives&quot;, 
               n &gt; 100 ~ &quot;overused infinitives&quot;,
               TRUE ~ &quot;low impact infinitives&quot;
             ), 
             label = case_when(
               mean_claps &gt; 500 | n &gt; 100 ~ infin, 
               mean_claps &gt; 200 &amp; n &gt; 50 ~ infin,
               TRUE ~ &quot;&quot;)
             )
         ) + 
  scale_colour_manual(values = c(colors_merb[3], colors_merb[1], colors_merb[2]), 
                     guide = guide_legend(title = NULL, override.aes = list(size = 4)) )+ 
  geom_point() + 
  geom_vline(xintercept = 100,
             lwd = 2, 
             lty = 2,
             alpha = 0.3,
             color = &quot;grey90&quot;) + 
  geom_hline(yintercept = 500, 
             lwd = 2,
             lty = 2, 
             alpha = 0.3,
             color = &quot;grey90&quot;) + 
  geom_text_repel(force = 15,
                  show.legend = FALSE) + 
  theme_merb() +
  xlab(&quot;number of times used&quot;) +
  ylab(&quot;mean number of claps&quot;) + 

  theme(
    legend.text = element_text(size = 12),
    legend.box.just = &quot;right&quot;
    )

plot_point_infin 
</code></pre>
<p><img src="./2018-12-04_files/figure-markdown_github/unnamed-chunk-3-1.png" alt=" "></p>
<pre><code class="language-r">dat_verb %&gt;%
  filter(n &gt; 5) %&gt;%
  ggplot(aes(x = n, y = mean_claps, 
             color = case_when(
               mean_claps &gt; 500 ~ &quot;high_impact&quot;, 
               n &gt; 100 ~ &quot;overused&quot;,
               TRUE ~ &quot;misc&quot;
             ), 
             label = case_when(
    mean_claps &gt; 500 | n &gt; 100 ~ word, 
    mean_claps &gt; 200 &amp;  n &gt; 50 ~ word, 
    TRUE ~ &quot;&quot;))) + 
  scale_colour_manual(values = c(colors_merb[3], colors_merb[1], colors_merb[2])) + 
  geom_point() + 
  geom_vline(xintercept = 100,
             lwd = 2, 
             lty = 2,
             alpha = 0.3,
             color = &quot;grey90&quot;) + 
  geom_hline(yintercept = 500, 
             lwd = 2,
             lty = 2, 
             alpha = 0.3,
             color = &quot;grey90&quot;) + 
  geom_text_repel(force = 15) + 
  theme_merb() +
  xlab(&quot;number of times used&quot;) +
  ylab(&quot;mean number of claps&quot;) + 
  theme(
    legend.position = &quot;none&quot;
    )
</code></pre>
<p><img src="2018-12-04_files/figure-markdown_github/unnamed-chunk-4-1.png" alt=""></p>
<h4 id="tables">tables</h4>
<pre><code class="language-r">gtable_theme &lt;- ttheme_minimal(
               core = list(fontfamily = &quot;Share Tech Mono&quot;,
                           bg_params = list(fill = c(&quot;#414C3B&quot;, &quot;#191919&quot;)),
                           fg_params = list(
                             col = matrix(c(&quot;white&quot;, colors_merb[2], colors_merb[3]), 
                                          nrow = 10,
                                          ncol = 3, 
                                          byrow = T),
                             fontsize = 12
                                            )
                           ),
               colhead = list(
                 bg_params = list(fill = &quot;#222220&quot;),
                 fg_params = list(col = &quot;white&quot;, 
                                  fontsize = 12)
               ),
               rowhead = list(),
               default = list(),
            padding =  unit(c(2, 3), &quot;mm&quot;) 
             )

infin_list &lt;- dat_infin %&gt;% 
  ungroup() %&gt;% 
  filter(n &gt; 5) %&gt;% 
  arrange(desc(mean_claps)) %&gt;%
  select(infin, n, mean_claps) %&gt;%
  mutate(mean_claps = round(mean_claps)) %&gt;%
  rename(&quot;infinitive&quot; = &quot;infin&quot;, 
         &quot;times used&quot; = &quot;n&quot;, 
         &quot;mean claps&quot; = &quot;mean_claps&quot;) %&gt;%
  head(10) %&gt;%
  tableGrob(rows = NULL, 
             theme = gtable_theme
            )

verb_list &lt;- dat_verb %&gt;% 
  ungroup() %&gt;% 
  filter(n &gt; 5) %&gt;% 
  arrange(desc(mean_claps)) %&gt;%
  select(word, n, mean_claps) %&gt;%
  mutate(mean_claps = round(mean_claps)) %&gt;%
  rename(&quot;verb&quot; = &quot;word&quot;, 
         &quot;times used&quot; = &quot;n&quot;, 
         &quot;mean claps&quot; = &quot;mean_claps&quot;) %&gt;%
  head(10) %&gt;%
  tableGrob(rows = NULL,
             theme = gtable_theme)

plot(infin_list)
</code></pre>
<p><img src="2018-12-04_files/figure-markdown_github/unnamed-chunk-5-1.png" alt=""></p>
<pre><code class="language-r">plot(verb_list)
</code></pre>
<p><img src="2018-12-04_files/figure-markdown_github/unnamed-chunk-5-2.png" alt=" "></p>
<h2 id="break-vs-build">break vs build</h2>
<pre><code class="language-r">dat_bb &lt;- dat %&gt;% unnest_tokens(infin, title, token = &quot;ngrams&quot;, n = 2, drop = FALSE) %&gt;%
  filter(str_detect(pattern = &quot;to &quot;, string = infin)) %&gt;%
  filter(infin %in% c(&quot;to break&quot;, &quot;to disrupt&quot;, &quot;to destroy&quot;, &quot;to create&quot;, &quot;to make&quot;, &quot;to build&quot;)) %&gt;%
  mutate(
    type = case_when(
      infin %in% c(&quot;to break&quot;, &quot;to disrupt&quot;, &quot;to destroy&quot;) ~ &quot;break&quot;,
      TRUE ~ &quot;build&quot;
    )
  )
</code></pre>
<h4 id="topics--tags-plot">topics / tags plot</h4>
<pre><code class="language-r">plot_topic &lt;- dat_bb %&gt;% 
  gather(tag, tag_true, contains(&quot;tag_&quot;)) %&gt;%
  mutate(tag = str_remove(tag, &quot;tag_&quot;)) %&gt;%
  group_by(type, tag) %&gt;%
  summarize(
    tag_prop = mean(tag_true),
    tag_sd = sd(tag_true),
    tag_se = tag_sd/sqrt(n())
    ) %&gt;%
  ggplot(aes(
    x = factor(tag) %&gt;% reorder(tag_prop, FUN = mean), 
    y = tag_prop, 
    fill = type)
    ) + 
  geom_col(position=&quot;dodge&quot;, stat=&quot;identity&quot;) + 
  scale_fill_manual(values = c(pink, olive), 
                    labels = c(&quot;posts about breaking\nor disrupting&quot;, &quot;posts about building\nor creating&quot;),
                    guide = guide_legend(title = NULL)) + 
  geom_errorbar(aes(ymin = tag_prop - tag_se, ymax = tag_prop + tag_se),
                position = position_dodge(0.9), 
                size = 0.3, 
                width = 0.5,
                color = &quot;white&quot;
                ) + 
  xlab(&quot;tag on post&quot;)+ 
  ylab(&quot;proportion with tag&quot;) + 
  theme_merb() + 
  theme(
    axis.text.x = element_text(hjust = .75, angle = 10)
  )
</code></pre>
<pre><code>## Warning: Ignoring unknown parameters: stat
</code></pre>
<pre><code class="language-r">plot_topic
</code></pre>
<p><img src="2018-12-04_files/figure-markdown_github/unnamed-chunk-7-1.png" alt=""></p>
<h4 id="time-to-harvest-some-posts">time to (ha)rvest some posts!</h4>
<pre><code class="language-r">read_post &lt;- function(url){
  tryCatch(
  read_html(url, options = &quot;NOERROR&quot;) %&gt;% 
  html_nodes(&quot;.graf--p&quot;) %&gt;%
  html_text() %&gt;%
  str_flatten(&quot; &quot;), 
  error = function(e){NA}, 
  warning  = function(w){NA}
  )
}

dat_bb &lt;- dat_bb %&gt;%
  mutate(
full_text = map(url, read_post)
)

dat_bb &lt;- unnest(dat_bb)

## don't want to have to repeat that later, so save it now
save(dat_bb, file = &quot;2018-12-04_scraped_posts.RData&quot;)
</code></pre>
<h4 id="sentiment-plot">sentiment plot</h4>
<p>Not sure if stemming is needed here, given the way the sentiment dictionaries are constructed . . .</p>
<pre><code class="language-r">sent &lt;- get_sentiments(&quot;loughran&quot;) 

dat_sent &lt;- dat_bb %&gt;%  
  filter(!is.na(full_text)) %&gt;%
  unnest_tokens(word, full_text) %&gt;%
  left_join(sent)
</code></pre>
<pre><code>## Joining, by = &quot;word&quot;
</code></pre>
<pre><code class="language-r">plot_sent &lt;- dat_sent %&gt;%
  group_by(x1, sentiment, type) %&gt;%
  tally() %&gt;%
  group_by(x1) %&gt;% 
  mutate(
    proportion = n / sum(n)
  ) %&gt;%
  filter(!is.na(sentiment)) %&gt;%
  group_by(type, sentiment) %&gt;%
  summarise(
    median_prop = median(proportion),
    sd = sd(proportion), 
    se = (1.2533 * sd) / sqrt(n())) %&gt;%
  ggplot(aes(x = factor(sentiment) %&gt;% reorder(median_prop), 
             y = median_prop, 
             fill = type)) + 
    geom_col(position = &quot;dodge&quot;) + 
    scale_fill_manual(values = c(pink, olive)) + 
    geom_errorbar(aes(ymin = median_prop - se, ymax = median_prop + se),
                position = position_dodge(0.9), 
                size = 0.3, 
                width = 0.5,
                color = &quot;white&quot;
                ) + 
  xlab(&quot;sentiment&quot;)+ 
  ylab(&quot;proportion of words in with sentiment&quot;) + 
  theme_merb() + 
  theme(axis.text.x = element_text(angle = 15, hjust = .75))

plot_sent
</code></pre>
<p><img src="2018-12-04_files/figure-markdown_github/unnamed-chunk-10-1.png" alt=""></p>
<h4 id="violin-plot">violin plot</h4>
<pre><code class="language-r">plot_violin &lt;- dat_bb %&gt;% 
  ggplot(aes(x = type, y= reading_time, fill = type, color = type)) + 
  geom_violin(alpha = 0.85) + 
  coord_cartesian(ylim = c(0,10)) +
  #geom_jitter(alpha = 0.3) + ## too busy
  stat_summary(fun.y = mean, 
               fun.ymin = function(x){ quantile(x, probs = 0.25) }, 
               fun.ymax = function(x){ quantile(x, probs = 0.75) }, 
               size = 0.75, color = &quot;black&quot;
                 ) +
  xlab(&quot;post theme&quot;) + 
  ylab(&quot;time to read post&quot;) + 
  scale_fill_manual(values = c(pink, olive)) + 
  scale_color_manual(values = c(pink, olive)) + 
  theme_merb()  + 
  theme(#legend.position = &quot;none&quot;, 
        axis.text = element_text(size = 15), 
        axis.title = element_text(size = 20))

plot_violin
</code></pre>
<p><img src="2018-12-04_files/figure-markdown_github/unnamed-chunk-11-1.png" alt=""></p>
<h4 id="legend">legend</h4>
<pre><code class="language-r">plot_leg &lt;- grid.arrange(cowplot::get_legend(plot_topic), 
             cowplot::get_legend(plot_point_infin), 
             widths = c(15, 85),
             layout_matrix = rbind(c(3, 2),
                                   c(3, 1))
             )
</code></pre>
<p><img src="2018-12-04_files/figure-markdown_github/unnamed-chunk-12-1.png" alt=""></p>
<h2 id="text-boxes">text boxes</h2>
<h4 id="header">header</h4>
<pre><code class="language-r">header &lt;- ggplot() + 
 annotate(geom = &quot;text&quot;, 
          y = 3.25, 
          x = 1, 
          size = 10, 
          hjust = .8,
          family = &quot;Roboto&quot;, 
          color = colors_merb_seq[2],
          label = &quot;what the use of&quot; 
          ) + 
 annotate(geom = &quot;text&quot;, 
          y = 2, 
          x= 1, 
          size = 30, 
          family = &quot;Share Tech Mono&quot;, 
          color = pink,
          alpha = 0.05,
          hjust = 0.5,
          label=&quot;infinitives&quot;
          ) + 
   annotate(geom = &quot;text&quot;, 
          y = 2, 
          x= 1, 
          size = 15, 
          family = &quot;Share Tech Mono&quot;, 
          color = colors_merb_seq[5],
          hjust = 0.5,
          label=&quot;infinitives&quot;
          ) + 
annotate(geom = &quot;text&quot;, 
         y = 1, 
         x = 1, 
         size = 10,
         family = &quot;Roboto&quot;, 
         color = colors_merb_seq[2], 
         hjust = .2,
         label = &quot;says about a Medium post&quot;
         ) + 
  ylim(0,4) + 
  theme_void() + 
  theme(
    plot.background = element_rect(color = &quot;#191919&quot;,
                                   fill = olive, 
                                   size = 5)
  )

header
</code></pre>
<p><img src="2018-12-04_files/figure-markdown_github/unnamed-chunk-13-1.png" alt=""></p>
<h4 id="definition-sidebar">definition sidebar</h4>
<pre><code class="language-r">def_sidebar &lt;- ggplot()  +
  ylim(-2,2) + 
  xlim(-2,2) + 
       annotate(&quot;text&quot;, 
            x = -2, 
            y = 1.5, 
            hjust = 0, 
            vjust = 1, 
            lineheight = 0.75, 
            family = &quot;Roboto&quot;, 
            size = 20,
            alpha = 0.1,
            color = &quot;#D9B0AC&quot;,
           label = &quot;infinitive&quot;) +
         annotate(&quot;text&quot;, 
            x = -2, 
            y = -1, 
            hjust = 0, 
            vjust = 1, 
            lineheight = 0.75, 
            family = &quot;Roboto&quot;, 
            size = 20,
            alpha = 0.1,
            color = &quot;#D9B0AC&quot;,
           label = &quot;Medium&quot;) +
   annotate(&quot;text&quot;, 
            x = -1.5, 
            y = 2, 
            hjust = 0, 
            vjust = 1, 
            lineheight = 0.75, 
            family = &quot;Roboto&quot;, 
            size = 4.8, 
            color = &quot;white&quot;,
           label = paste0(
              str_wrap(&quot;infinitive: a verb form found in many languages that functions as a noun or is used with auxiliary verbs, and that names the action or state without specifying the subject: “to come”, “to be”, “to want”&quot;, 29), 
             &quot;\n&quot;, &quot;\n&quot;, &quot;\n&quot;,
            str_wrap(&quot;Medium: an online publishing platform developed as a long-form alternative to twitter.&quot;, 29))
           ) +
  theme_void() + 
  theme(
    plot.background = element_rect(fill = &quot;#222220&quot; , color = &quot;#191919&quot;, size = 2)
  )

def_sidebar
</code></pre>
<p><img src="2018-12-04_files/figure-markdown_github/unnamed-chunk-14-1.png" alt=""></p>
<h4 id="top-sidebar">top sidebar</h4>
<pre><code class="language-r">top_sidebar &lt;- ggplot()  +
  ylim(-2,2) + 
  xlim(-2,2) +    
  annotate(&quot;text&quot;, 
            x = -2, 
            y = 2, 
            hjust = 0, 
            vjust = 1, 
            lineheight = 0.75, 
            family = &quot;Roboto&quot;, 
            size = 5, 
            color = &quot;white&quot;,
           label = paste0(
              str_wrap(&quot;Infinitives are used to express wants and desires. When an author uses an infinitive in the title of an article, they are making a promise to the reader about what the reader will learn: 'to build', 'to solve', 'to disrupt'. The figure to the left shows the relationship between how often an infinitive is used in the titles of Medium posts (on the topics of data science) and the number of claps (likes) the post received.&quot;, 32),
              &quot;\n&quot;,&quot;\n&quot;,
              str_wrap(&quot;Compared to verbs alone, infinitives say a lot more about the content of an article, which you can see in the lists below. They show the 'most-clapped' verbs or infinitives that are found in at least 5 article titles:&quot;, 32)
           )
  )+
  theme_void() + 
  theme(
    plot.background = element_rect(fill = &quot;#20261d&quot; , color = &quot;#191919&quot;, size = 2)
  )
top_sidebar 
</code></pre>
<p><img src="2018-12-04_files/figure-markdown_github/unnamed-chunk-15-1.png" alt=""></p>
<h4 id="bottom-sidebar">bottom sidebar</h4>
<pre><code class="language-r">bot_sidebar &lt;- ggplot()  +
  ylim(-2,2) + 
  xlim(-2,2) +    
    annotate(&quot;text&quot;, 
            x = -2, 
            y = 2, 
            hjust = 0, 
            vjust = 1, 
            lineheight = 0.75, 
            family = &quot;Share Tech Mono&quot;, 
            size = 6, 
            color = &quot;#D9B0AC&quot;,
           label = &quot;build vs break&quot;
  ) +
  annotate(&quot;text&quot;, 
            x = -2, 
            y = 1.5, 
            hjust = 0, 
            vjust = 1, 
            lineheight = 0.75, 
            family = &quot;Roboto&quot;, 
            size = 5, 
            color = &quot;white&quot;,
           label = paste0(
             str_wrap(&quot;Infinitives like 'build' and 'create' are overused in Medium post titles, and have little impact, while 'disrupt' and 'break' see far more claps on average. Comparing these types of posts one can see that 'breaking' posts are usually shorter (a), have more emotional content (b), and are less likely to have highly specific tags (c)&quot;, 32)
           )
  ) +
  theme_void() + 
  theme(
    plot.background = element_rect(fill = &quot;#222220&quot; , color = &quot;#191919&quot;, size = 2)
  )
bot_sidebar
</code></pre>
<p><img src="2018-12-04_files/figure-markdown_github/unnamed-chunk-16-1.png" alt=""></p>
<h4 id="footer">footer</h4>
<pre><code class="language-r">footer &lt;-  ggplot()  +
  ylim(-2,2) + 
  xlim(-2,2) +    
  annotate(&quot;text&quot;, 
            x = 0, 
            y = 0, 
            hjust = .5, 
            vjust = .5, 
            lineheight = 0.75, 
            family = &quot;Roboto&quot;, 
            size = 4, 
            color = &quot;#191919&quot;,
           label = paste0(
             &quot;A #TidyTuesday adventure + Data from Kaggle.com + Design and and analysis by @TannerKoomar&quot;, 
             &quot;\n&quot;,  
             &quot;Code at https://github.com/tkoomar/tidytuesday/blob/master/work/2018-12-04.md&quot;
             )
             ) +
  theme_void() + 
  theme(
    plot.background = element_rect(fill = olive , color = &quot;#191919&quot;, size = 2)
  )

  
footer
</code></pre>
<p><img src="2018-12-04_files/figure-markdown_github/unnamed-chunk-17-1.png" alt=""></p>
<h2 id="stitch-it-together">stitch it together</h2>
<pre><code class="language-r">png(&quot;2018-12-04_final_plot.png&quot;, width = 1200, height = 1600, res = 144, bg = &quot;#191919&quot;)

grid.arrange(header, 
             def_sidebar,
             plot_point_infin + theme(legend.position = 'none'),
             top_sidebar,
             plot_leg,
             infin_list,
             verb_list,
             plot_violin + theme(legend.position = 'none') + labs(tag = &quot;(a)&quot;),
             plot_sent + theme(legend.position = 'none') + labs(tag = &quot;(b)&quot;),
             plot_topic + theme(legend.position = 'none')+ labs(tag = &quot;(c)&quot;),
             bot_sidebar,
             footer,
             heights = c(15, 30, 20, 30, 30, 5),
             layout_matrix = rbind(c(1,1,1,1),
                                   c(2,3,3,4),
                                   c(5,3,3,4),
                                   c(11,9,9,6),
                                   c(8,10,10,7),
                                   c(12,12,12,12))
               )

dev.off()
</code></pre>
<pre><code>## png 
##   2
</code></pre>
<h2 id="the-final-plot">The final Plot</h2>
<p><img src="./featured.png" alt="The final plot"></p>
    </div>

    



<div class="article-tags">
  
  <a class="badge badge-light" href="../../tags/r/">R</a>
  
  <a class="badge badge-light" href="../../tags/nlp/">nlp</a>
  
  <a class="badge badge-light" href="../../tags/web-scraping/">web scraping</a>
  
</div>














  






  
  
  
    
  
  
  
  <div class="media author-card content-widget-hr">
    
      
      <img class="avatar mr-3 avatar-square" src="../../authors/tanner/avatar_hu6215c920da6c53a8e69de7d60b94e2b6_404957_270x270_fill_lanczos_center_2.png" alt="Avatar">
    

    <div class="media-body">
      <h5 class="card-title"><a href="../../">Tanner Koomar</a></h5>
      <h6 class="card-subtitle">PhD Candidate</h6>
      <p class="card-text">My research interests include computational genetics, machine learning and science communication</p>
      <ul class="network-icon" aria-hidden="true">
  
    
    
    
      
    
    
    
    
    
      
    
    <li>
      <a href="https://linkedin.com/in/tanner-koomar" target="_blank" rel="noopener">
        <i class="fab fa-linkedin"></i>
      </a>
    </li>
  
    
    
    
      
    
    
    
    
    
      
    
    <li>
      <a href="https://twitter.com/tannerkoomar" target="_blank" rel="noopener">
        <i class="fab fa-twitter"></i>
      </a>
    </li>
  
    
    
    
      
    
    
    
    
    
      
    
    <li>
      <a href="https://github.com/tkoomar" target="_blank" rel="noopener">
        <i class="fab fa-github"></i>
      </a>
    </li>
  
    
    
    
    
    
    
    
      
    
    <li>
      <a href="https://scholar.google.com/citations?user=opu7O1AAAAAJ" target="_blank" rel="noopener">
        <i class="ai ai-google-scholar"></i>
      </a>
    </li>
  
    
    
    
      
    
    
    
    
    
      
    
    <li>
      <a href="https://orcid.org/0000-0003-0777-8678" target="_blank" rel="noopener">
        <i class="fab fa-orcid"></i>
      </a>
    </li>
  
    
    
    
      
    
    
    
    
    
      
    
    <li>
      <a href="https://www.researchgate.net/profile/Tanner_Koomar2" target="_blank" rel="noopener">
        <i class="fab fa-researchgate"></i>
      </a>
    </li>
  
    
    
    
      
    
    
    
    
    
      
    
    <li>
      <a href="https://www.ncbi.nlm.nih.gov/pubmed/?term=tanner&#43;koomar" target="_blank" rel="noopener">
        <i class="fas fa-book-medical"></i>
      </a>
    </li>
  
</ul>

    </div>
  </div>









  
  
  <div class="article-widget content-widget-hr">
    <h3>Related</h3>
    <ul>
      
      <li><a href="../../post/2018-11-20-tt-gravy/">Tidy Tuesday: Thanksgiving Gravy</a></li>
      
      <li><a href="../../post/2018-11-06-tt-wind-power/">Tidy Tuesday: USA Wind Power</a></li>
      
      <li><a href="../../publication/2017-cerebroviz-paper/">cerebroViz: an R package for anatomical visualization of spatiotemporal brain data</a></li>
      
    </ul>
  </div>
  



  </div>
</article>

      

    
    
    
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.imagesloaded/4.1.4/imagesloaded.pkgd.min.js" integrity="sha256-lqvxZrPLtfffUl2G/e7szqSvPBILGbwmsGE1MKlOi0Q=" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.isotope/3.0.6/isotope.pkgd.min.js" integrity="sha256-CBrpuqrMhXwcLLUd5tvQ4euBHCdh7wGlDfNz8vbu/iI=" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.js" integrity="sha256-yt2kYMy0w8AbtF89WXb2P1rfjcP/HTHLT7097U8Y5b8=" crossorigin="anonymous"></script>

      

      
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.10/highlight.min.js" integrity="sha256-1zu+3BnLYV9LdiY85uXMzii3bdrkelyp37e0ZyTAQh0=" crossorigin="anonymous"></script>
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.10/languages/r.min.js"></script>
        
      

    

    
    

    
    
    <script>const code_highlighting = true;</script>
    

    
    
    
    
    
    
    <script>
      const search_config = {"indexURI":"/index.json","minLength":1,"threshold":0.3};
      const i18n = {"no_results":"No results found","placeholder":"Search...","results":"results found"};
      const content_type = {
        'post': "Posts",
        'project': "Projects",
        'publication' : "Publications",
        'talk' : "Talks"
        };
    </script>
    

    
    

    
    
    <script id="search-hit-fuse-template" type="text/x-template">
      <div class="search-hit" id="summary-{{key}}">
      <div class="search-hit-content">
        <div class="search-hit-name">
          <a href="{{relpermalink}}">{{title}}</a>
          <div class="article-metadata search-hit-type">{{type}}</div>
          <p class="search-hit-description">{{snippet}}</p>
        </div>
      </div>
      </div>
    </script>
    

    
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/3.2.1/fuse.min.js" integrity="sha256-VzgmKYmhsGNNN4Ph1kMW+BjoYJM2jV5i4IlFoeZA9XI=" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin="anonymous"></script>
    

    
    

    
    

    
    
    
    
    
    
    
    
    
      
    
    
    
    
    <script src="../../js/academic.min.0630fec5958cb075a5a38f042b3ddde6.js"></script>

    






  
  
  <div class="container">
    <footer class="site-footer">
  
  <p class="powered-by">
    
      <a href="../../privacy/">Privacy Policy</a>
    
    
       &middot; 
      <a href="../../terms/">Terms</a>
    
  </p>
  

  <p class="powered-by">
    2021 &middot; 

    Powered by the
    <a href="https://sourcethemes.com/academic/" target="_blank" rel="noopener">Academic theme</a> for
    <a href="https://gohugo.io" target="_blank" rel="noopener">Hugo</a>.

    
    <span class="float-right" aria-hidden="true">
      <a href="#" class="back-to-top">
        <span class="button_icon">
          <i class="fas fa-chevron-up fa-2x"></i>
        </span>
      </a>
    </span>
    
  </p>
</footer>

  </div>
  

  
<div id="modal" class="modal fade" role="dialog">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Cite</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <pre><code class="tex hljs"></code></pre>
      </div>
      <div class="modal-footer">
        <a class="btn btn-outline-primary my-1 js-copy-cite" href="#" target="_blank">
          <i class="fas fa-copy"></i> Copy
        </a>
        <a class="btn btn-outline-primary my-1 js-download-cite" href="#" target="_blank">
          <i class="fas fa-download"></i> Download
        </a>
        <div id="modal-error"></div>
      </div>
    </div>
  </div>
</div>

</body>
</html>
